<header>
  <section class="logo">
    <a routerLink="/portal">
      <img src="assets/img/logos/logoipsum-black.svg" alt="Logoipsum logo">
    </a>
  </section>

  <section class="searcher-and-profile">
    <section class="searcher-and-profile-container">

      <app-article-search></app-article-search>

      <section class="profile-wrapper">
        <section class="user" *ngIf="user && !isLoading; else elseBlock">
          <div class="user-photo">
            <img *ngIf="user.photoUrl" [src]="user.photoUrl" alt="User avatar"/>
            <img *ngIf="!user.photoUrl" src="assets/img/unknown-user.png" alt="User avatar"/>
          </div>
          <span class="user-name">{{user.name}} {{user.lastName}}</span>
          <button *ngIf="user.registrationType === 'firebase'" class="user-dropdown" mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>keyboard_arrow_down</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item>
              <a routerLink="/portal/profile">Edit profile</a>
            </button>
          </mat-menu>
        </section>

        <ng-template #elseBlock>
          <app-loader></app-loader>
        </ng-template>

      </section>

    </section>
  </section>
</header>

<main>
  <aside>
    <p>Main Menu</p>
    <nav>
      <a routerLink="/portal/dashboard" routerLinkActive="active" #dashboard="routerLinkActive">
        <img *ngIf="dashboard.isActive" src="assets/img/icons/speedometer-active.svg" alt="dashboard-active" />
        <img *ngIf="!dashboard.isActive" src="assets/img/icons/speedometer-inactive.svg" alt="dashboard-inactive" />
        Dashboard
      </a>
    </nav>

    <div class="line"></div>

    <app-bitcoin-value></app-bitcoin-value>

    <button mat-button (click)="logout($event)"><img src="assets/img/icons/logout.svg" alt="Logout">Logout</button>
  </aside>

  <section class="component-container">
    <router-outlet></router-outlet>
  </section>
</main>
